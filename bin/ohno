#!/usr/bin/python
# coding: utf-8

import sys
import os
import traceback

def main():
    BIN_DIR = os.path.dirname(os.path.realpath(__file__))
    ROOT_DIR = os.path.abspath(os.path.join(BIN_DIR, '..'))

    # Not exactly best practice, but convenient enough..
    sys.path.extend([ROOT_DIR, os.path.join(ROOT_DIR, 'lib', 'loglady'), os.path.join(ROOT_DIR, 'lib', 'ansiterm')])
    import ohno.ohno

    try:
        instance = ohno.ohno.Ohno(ROOT_DIR)
        instance.start_resume_game()
        instance.loop()
        instance.shutdown()
    except:
        # Need to shut down curses before the traceback.
        instance.save() # Will call shutdown
        traceback.print_exc()

if __name__ == '__main__':
    main()
